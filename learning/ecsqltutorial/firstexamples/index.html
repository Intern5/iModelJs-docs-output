<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>First Examples - iModelJs</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="https://imodeljs.github.io/iModelJs-docs-output//styles/bundle.css">
    <link rel="stylesheet" type="text/css" href="https://imodeljs.github.io/iModelJs-docs-output//styles/prism.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet"> 
        <link rel='shortcut icon' type='image/x-icon' href='https://imodeljs.github.io/iModelJs-docs-output//overview/imodeljs.ico' /> 
</head>

<body data-site-root=https://imodeljs.github.io/iModelJs-docs-output// class='layout-index '>
    <span id="contentLoader">
        <p>Woah! This page has a great deal of content... Give us a second to load it.</p>
    </span>
    <span id="contentLoaderBackground"></span>
    <div id="flex-wrapper">
        <header id="main-header">
            <div class='row nav-container'>
                <nav id='main-navbar' class="navbar navbar-expand-md navbar-light">
                    
                    <button class="navbar-toggler navbar-toggler-left custom-toggler" type="button" aria-controls="navbarSupportedContent" aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon">
                            <i class='icon icon-menu'></i>
                        </span>
                    </button>
                    <div class="nav-title-container">
                        <a class="navbar-brand " href="https://imodeljs.github.io/iModelJs-docs-output//" class="col-md-3">
                            <img id="site-logo" class="site-logo" src="https://imodeljs.github.io/iModelJs-docs-output//overview/imodeljs.ico" />
                            <h1 id="site-title">iModelJs</h1>
                        </a>
                    </div>
                    <div id='header-tabs' class='col-sm-6 col-md-3 nav-tabs-container'>
                        <nav class="navbar navbar-expand-md navbar-light">
                             <ul class="bwc-tabs-horizontal green"><li class=""><a href="https://imodeljs.github.io/iModelJs-docs-output//overview">Overview</a></li><li class=""><a href="https://imodeljs.github.io/iModelJs-docs-output//getting-started">Getting Started</a></li><li class=""><a href="https://imodeljs.github.io/iModelJs-docs-output//bis">BIS</a></li><li class="active"><a href="https://imodeljs.github.io/iModelJs-docs-output//learning">Learning</a></li><li class=""><a href="https://imodeljs.github.io/iModelJs-docs-output//reference">API Reference</a></li></ul> 
                        </nav>
                    </div>                </nav>
            </div>

        </header>
        
<div id='main-wrapper'>
    <div id='table-of-contents'>
        <span class='search-bar'>
          <li>
            <div id='search-container'>
            </div>
          </li>
        </span>
        
        <ul id='main-navigation-list'>
            <html><head></head><body><h3 id="the imodeljs library"><a href="https://imodeljs.github.io/iModelJs-docs-output//learning/" class="table-of-contents-link">The iModelJs Library</a></h3>
        <ul>
        <li><a href="https://imodeljs.github.io/iModelJs-docs-output//learning/frontend/" class="table-of-contents-link">Frontend</a></li>
        <li><a href="https://imodeljs.github.io/iModelJs-docs-output//learning/backend/" class="table-of-contents-link">Backend</a></li>
        <li><a href="https://imodeljs.github.io/iModelJs-docs-output//learning/common/" class="table-of-contents-link">Common</a></li>
        </ul>
        <hr>
        <p>&#xA0;</p>
        <h3 id="helpful links">Helpful links</h3>
        <ul>
        <li><a href="https://imodeljs.github.io/iModelJs-docs-output//./learning/ecsql" class="table-of-contents-link">ECSQL</a></li>
        <li><a href="https://imodeljs.github.io/iModelJs-docs-output//./learning/wireformat" class="table-of-contents-link">Wire Format</a></li>
        <li><a href="https://imodeljs.github.io/iModelJs-docs-output//./learning/faq" class="table-of-contents-link">Frequently asked Questions</a></li>
        <li><a href="https://imodeljs.github.io/iModelJs-docs-output//learning/guidelines/" class="table-of-contents-link">Guidelines and Tips</a></li>
        <li><a href="https://imodeljs.github.io/iModelJs-docs-output//./learning/glossary" class="table-of-contents-link">iModelJs Glossary</a></li>
        </ul>
        </body></html>
        </ul>    </div>
    <div class='row documentation-main'>
        <article id="main" name="main-content">
            <div class='bread-crumb-label'><a href="https://imodeljs.github.io/iModelJs-docs-output//learning/">learning</a> > <a href="https://imodeljs.github.io/iModelJs-docs-output//learning/ecsqltutorial/">ecsqltutorial</a> > FirstExamples</div>
            <div class="edit-link">***REMOVED***</div>
            <h1 id="first examples">First Examples</h1>
<p>We will start off the tutorial by a simple ECSQL example:</p>
<h2 class="h-first-ecsql"><a id="first-ecsql" class="heading-anchor" href="#%s"></a>First ECSQL</h2>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> Return id, subclass and code of all <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatiallocationelement'>SpatialLocationElement</a>s in the iModel.</p>
<p><em>ECSQL:</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT ECInstanceId, ECClassId, CodeValue FROM bis.SpatialLocationElement</code></pre>
<p><em>Result</em></p>
<table class="table table-responsive"><tbody><tr>
<th>ECInstanceId</th>
<th>ECClassId</th>
<th>CodeValue</th>
</tr>
<tr>
<td>0x10000000012</td>
<td>MyDomain.Building</td>
<td>Building A</td>
</tr>
<tr>
<td>0x10000000014</td>
<td>MyDomain.Space</td>
<td>A-G-1</td>
</tr>
<tr>
<td>0x10000000015</td>
<td>MyDomain.Space</td>
<td>A-G-2</td>
</tr>
<tr>
<td>0x10000000017</td>
<td>MyDomain.Space</td>
<td>A-1-1</td>
</tr>
<tr>
<td>0x10000000019</td>
<td>MyDomain.Space</td>
<td>A-2-1</td>
</tr>
<tr>
<td>0x1000000001a</td>
<td>MyDomain.Space</td>
<td>A-2-2</td>
</tr>
<tr>
<td>0x1000000001b</td>
<td>MyDomain.Space</td>
<td>A-2-3</td>
</tr>
<tr>
<td>0x1000000001c</td>
<td>MyDomain.Space</td>
<td>A-2-4</td>
</tr>
<tr>
<td>0x1000000001d</td>
<td>MyDomain.Space</td>
<td>A-2-5</td>
</tr>
<tr>
<td>0x1000000001e</td>
<td>MyDomain.Space</td>
<td>A-2-6</td>
</tr>
<tr>
<td>0x1000000001f</td>
<td>MyDomain.Space</td>
<td>A-2-7</td>
</tr>
<tr>
<td>0x10000000020</td>
<td>MyDomain.Space</td>
<td>A-2-8</td>
</tr>
<tr>
<td>0x10000000013</td>
<td>MyDomain.Story</td>
<td>A-G</td>
</tr>
<tr>
<td>0x10000000016</td>
<td>MyDomain.Story</td>
<td>A-1</td>
</tr>
<tr>
<td>0x10000000018</td>
<td>MyDomain.Story</td>
<td>A-2</td>
</tr>
</tbody></table></blockquote>
<h2 class="h-fully-qualified-class-names"><a id="fully-qualified-class-names" class="heading-anchor" href="#%s"></a>Fully qualified class names</h2>
<p>The example illustrates an important rule. As an iModel contains more than one ECSchema, class names might be ambiguous. Therefore <strong>the classes used in an ECSQL have to be fully qualified by their schemas</strong>. The schema can either be specified by its name or by its alias.</p>
<p>Syntax: <code>&lt;Schema name or alias&gt;.&lt;Class name&gt;</code></p>
<p>See <a href='https://imodeljs.github.io/iModelJs-docs-output//./learning/ecsql/#fully-qualifying-ecclasses-in-ecsql'>ECSQL Reference</a> for details.</p>
<p>The example from above uses the schema alias. If you replace it by the schema name, you will get the same result as above.</p>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> Return id, subclass and code of all <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatiallocationelement'>SpatialLocationElement</a>s in the iModel.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT ECInstanceId, ECClassId, CodeValue FROM BisCore.SpatialLocationElement</code></pre>
<p><em>Result:</em> As in <a href="#first-ecsql">First ECSQL</a></p>
<table class="table table-responsive"><tbody><tr>
<th>ECInstanceId</th>
<th>ECClassId</th>
<th>CodeValue</th>
</tr>
<tr>
<td>0x10000000012</td>
<td>MyDomain.Building</td>
<td>Building A</td>
</tr>
<tr>
<td>0x10000000014</td>
<td>MyDomain.Space</td>
<td>A-G-1</td>
</tr>
<tr>
<td>0x10000000015</td>
<td>MyDomain.Space</td>
<td>A-G-2</td>
</tr>
<tr>
<td>0x10000000017</td>
<td>MyDomain.Space</td>
<td>A-1-1</td>
</tr>
<tr>
<td>0x10000000019</td>
<td>MyDomain.Space</td>
<td>A-2-1</td>
</tr>
<tr>
<td>0x1000000001a</td>
<td>MyDomain.Space</td>
<td>A-2-2</td>
</tr>
<tr>
<td>0x1000000001b</td>
<td>MyDomain.Space</td>
<td>A-2-3</td>
</tr>
<tr>
<td>0x1000000001c</td>
<td>MyDomain.Space</td>
<td>A-2-4</td>
</tr>
<tr>
<td>0x1000000001d</td>
<td>MyDomain.Space</td>
<td>A-2-5</td>
</tr>
<tr>
<td>0x1000000001e</td>
<td>MyDomain.Space</td>
<td>A-2-6</td>
</tr>
<tr>
<td>0x1000000001f</td>
<td>MyDomain.Space</td>
<td>A-2-7</td>
</tr>
<tr>
<td>0x10000000020</td>
<td>MyDomain.Space</td>
<td>A-2-8</td>
</tr>
<tr>
<td>0x10000000013</td>
<td>MyDomain.Story</td>
<td>A-G</td>
</tr>
<tr>
<td>0x10000000016</td>
<td>MyDomain.Story</td>
<td>A-1</td>
</tr>
<tr>
<td>0x10000000018</td>
<td>MyDomain.Story</td>
<td>A-2</td>
</tr>
</tbody></table></blockquote>
<p>If you omit the schema, you will get an error:</p>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> Return id, subclass and code of all <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatiallocationelement'>SpatialLocationElement</a>s in the iModel.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT ECInstanceId, ECClassId, CodeValue FROM SpatialLocationElement</code></pre>
<p><em>Result</em></p>
<p><code>Failed to execute the ECSQL: Invalid ECSQL class expression: Valid syntax: [&lt;table space&gt;.]&lt;schema name or alias&gt;.&lt;class name&gt;</code></p>
</blockquote>
<h2 class="h-element-count"><a id="element-count" class="heading-anchor" href="#%s"></a>Element Count</h2>
<p>The above example is not very meaningful. In large iModels the query might return far too many instances. If you want to find out how many <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#element'>Element</a>s there are in the iModel, you can run the following query.</p>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> Find out how many <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#element'>Element</a>s there are in the iModel.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT count(*) FROM bis.Element</code></pre>
<p><em>Result</em></p>
<table class="table table-responsive"><tbody><tr>
<th>count(*)</th>
</tr>
<tr>
<td>80</td>
<td></td>
</tr>
</tbody></table></blockquote>
<p>This query considers all kinds of <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#element'>Element</a>s. If we want to focus only on Elements which represent realworld assets, we can use the BIS class <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatialelement'>SpatialElement</a>s instead.</p>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> Find out how many <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatialelement'>SpatialElement</a>s there are in the iModel.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT count(*) FROM bis.SpatialElement</code></pre>
<p><em>Result</em></p>
<table class="table table-responsive"><tbody><tr>
<th>count(*)</th>
</tr>
<tr>
<td>26</td>
<td></td>
</tr>
</tbody></table></blockquote>
<p>Let&apos;s compute some more Element statistic with ECSQL. We want to find out how many <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatialelement'>SpatialElement</a>s there are in the iModel per actual element type (where element type here refers to the subclasses of the <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#element'>Element</a> ECClass).</p>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> Find out how many <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatialelement'>SpatialElement</a>s there are in the iModel per actual element type.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT ECClassId, count(*) ElementCount FROM bis.SpatialElement GROUP BY ECClassId ORDER BY ECClassId</code></pre>
<p><em>Result</em></p>
<table class="table table-responsive"><tbody><tr>
<th>ECClassId</th>
<th>ElementCount</th>
</tr>
<tr>
<td>MyDomain.Building</td>
<td>1</td>
</tr>
<tr>
<td>MyDomain.Device</td>
<td>11</td>
</tr>
<tr>
<td>MyDomain.Space</td>
<td>11</td>
</tr>
<tr>
<td>MyDomain.Story</td>
<td>3</td>
</tr>
</tbody></table></blockquote>
<h2 class="h-limiting-the-result-set"><a id="limiting-the-result-set" class="heading-anchor" href="#%s"></a>Limiting the result set</h2>
<p>Another way to deal with large query results is to use <code>LIMIT</code> and <code>OFFSET</code>. See <a href='https://imodeljs.github.io/iModelJs-docs-output//./learning/ecsql/#limit-and-offset'>LIMIT and OFFSET in ECSQL Reference</a> for details.</p>
<p>Let&apos;s apply <code>LIMIT</code> and <code>OFFSET</code> to he first ECSQL example from above (<a href="#first-ecsql">first ECSQL example</a>) to shrink the returned rows to a more digestible number.</p>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> Return the first 5 <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatiallocationelement'>SpatialLocationElement</a>s only.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT ECInstanceId, ECClassId, CodeValue FROM bis.SpatialLocationElement LIMIT 5</code></pre>
<p><em>Result</em></p>
<table class="table table-responsive"><tbody><tr>
<th>ECInstanceId</th>
<th>ECClassId</th>
<th>CodeValue</th>
</tr>
<tr>
<td>0x10000000012</td>
<td>MyDomain.Building</td>
<td>Building A</td>
</tr>
<tr>
<td>0x10000000014</td>
<td>MyDomain.Space</td>
<td>A-G-1</td>
</tr>
<tr>
<td>0x10000000015</td>
<td>MyDomain.Space</td>
<td>A-G-2</td>
</tr>
<tr>
<td>0x10000000017</td>
<td>MyDomain.Space</td>
<td>A-1-1</td>
</tr>
<tr>
<td>0x10000000019</td>
<td>MyDomain.Space</td>
<td>A-2-1</td>
</tr>
</tbody></table></blockquote>
<hr>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> Return the 11th through 15th <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatiallocationelement'>SpatialLocationElement</a> only.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT ECInstanceId, ECClassId, CodeValue FROM bis.SpatialLocationElement LIMIT 5 OFFSET 5</code></pre>
<p><em>Result</em></p>
<table class="table table-responsive"><tbody><tr>
<th>ECInstanceId</th>
<th>ECClassId</th>
<th>CodeValue</th>
</tr>
<tr>
<td>0x1000000001f</td>
<td>MyDomain.Space</td>
<td>A-2-7</td>
</tr>
<tr>
<td>0x10000000020</td>
<td>MyDomain.Space</td>
<td>A-2-8</td>
</tr>
<tr>
<td>0x10000000013</td>
<td>MyDomain.Story</td>
<td>A-G</td>
</tr>
<tr>
<td>0x10000000016</td>
<td>MyDomain.Story</td>
<td>A-1</td>
</tr>
<tr>
<td>0x10000000018</td>
<td>MyDomain.Story</td>
<td>A-2</td>
</tr>
</tbody></table></blockquote>
<h2 class="h-formatting-the-output"><a id="formatting-the-output" class="heading-anchor" href="#%s"></a>Formatting the Output</h2>
<p><strong>Aliases</strong> for the expressions in the SELECT clause are a convenient way to format the output of the ECSQL query.</p>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> Find out how many <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatialelement'>SpatialElement</a>s there are in the iModel and give the resulting column the more meaningful name <em>Element Count</em>.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT count(*) ElementCount FROM bis.SpatialElement</code></pre>
<p><em>Result</em></p>
<table class="table table-responsive"><tbody><tr>
<th>ElementCount</th>
</tr>
<tr>
<td>26</td>
<td></td>
</tr>
</tbody></table></blockquote>
<hr>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> Return id and code of all <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#element'>Element</a>s in the iModel and give the id column the name <em>ElementId</em> and the code value column the name <em>Code</em>.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT ECInstanceId ElementId, ECClassId, CodeValue Code FROM bis.Element LIMIT 3</code></pre>
<p><em>Result</em></p>
<p>ElementId | ECClassId | Code
0x1 | BisCore.Subject | My Campus
0xe | BisCore.LinkPartition | BisCore.RealityDataSources
0x10 | BisCore.DefinitionPartition | BisCore.DictionaryModel</p>
</blockquote>
<p>One aspect of the power of ECSQL (and SQL) is the richness of expressiveness. Instead of just returning the property values from
some class, you can let ECSQL do calculations. The following example uses ECSQL as a simple calculator.</p>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> Compute the perimeter and area of a circle with a radius of 10 cm.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT 10 Radius, (2 * 3.1415 * 10) Perimeter, (3.1415 * 10 * 10) Area FROM bis.Element LIMIT 1</code></pre>
<p><em>Result</em></p>
<table class="table table-responsive"><tbody><tr>
<th>Radius</th>
<th>Perimeter</th>
<th>Area</th>
</tr>
<tr>
<td>10</td>
<td>62.8</td>
<td>314.15</td>
</tr>
</tbody></table></blockquote>
<p>Using <strong>aliases</strong> is also helpful when working with the iModelJs API. The API returns query results as JavaScript object literals where
each expression of the SELECT clause becomes the member of the object.</p>
<p>If you, for example, used the <a href="#element-count">Element Count example</a> with the iModeljs API, you would get this JavaScript object literal:</p>
<pre class="no-line-numbers"><code class="language-typescript"> { &quot;count(*)&quot; : 26 }</code></pre>
<p>The power of JavaScript object literals is lost here, because <code>count(*)</code> is not a valid member name. If you applied an alias to
the count expression though so that the ECSQL would look like this:</p>
<pre class="no-line-numbers"><code class="language-sql">SELECT count(*) elementCount FROM bis.SpatialElement</code></pre>
<p>the JavaScript object would now look like this:</p>
<pre class="no-line-numbers"><code class="language-typescript"> { elementCount : 26 }</code></pre>
<p>Now the result can be consumed in TypeScript as desired:</p>
<pre class="no-line-numbers"><code class="language-typescript"> iModelDb.withPreparedStatement(&quot;SELECT count(*) elementCount FROM bis.SpatialElement&quot;, (stmt: ECSqlStatement) =&gt; {
    stmt.step();
    const row: any = stmt.getRow();
    console.log(&quot;Element count: &quot; + row.elementCount);
    });</code></pre>
<h2 class="h-parametrizing-the-ecsql"><a id="parametrizing-the-ecsql" class="heading-anchor" href="#%s"></a>Parametrizing the ECSQL</h2>
<p>To reuse the same ECSQL statement with different values, parameters can be used. Reusing ECSQL statements should always be considered because preparing an ECSQL statement can be costly. See the <a href='https://imodeljs.github.io/iModelJs-docs-output//./learning/ecsql/#ecsql-parameters'>ECSQL Reference</a> for details and some examples. Values for the parameters are bound to the statement via the iModelJs API.</p>
<p><strong>Not binding a value to a parameter is like binding NULL to it.</strong></p>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> Return all <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatialelement'>SpatialElement</a>s that do not have a user label.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT ECInstanceId,ECClassId FROM bis.SpatialElement WHERE UserLabel=? LIMIT 5</code></pre>
<p><em>Result</em></p>
<table class="table table-responsive"><tbody><tr>
<th>ECInstanceId</th>
<th>ECClassId</th>
</tr>
<tr>
<td>0x10000000012</td>
<td>MyDomain.Building</td>
</tr>
<tr>
<td>0x10000000021</td>
<td>MyDomain.Device</td>
</tr>
<tr>
<td>0x10000000022</td>
<td>MyDomain.Device</td>
</tr>
<tr>
<td>0x10000000023</td>
<td>MyDomain.Device</td>
</tr>
<tr>
<td>0x10000000024</td>
<td>MyDomain.Device</td>
</tr>
</tbody></table></blockquote>
<p>As you cannot bind values to parameters in the iModelConsole, the above query returns the same as if you did the following.</p>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> Return all <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatialelement'>SpatialElement</a>s that do not have a user label.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT ECInstanceId,ECClassId FROM bis.SpatialElement WHERE UserLabel IS NULL LIMIT 5</code></pre>
<p><em>Result</em></p>
<table class="table table-responsive"><tbody><tr>
<th>ECInstanceId</th>
<th>ECClassId</th>
</tr>
<tr>
<td>0x10000000012</td>
<td>MyDomain.Building</td>
</tr>
<tr>
<td>0x10000000021</td>
<td>MyDomain.Device</td>
</tr>
<tr>
<td>0x10000000022</td>
<td>MyDomain.Device</td>
</tr>
<tr>
<td>0x10000000023</td>
<td>MyDomain.Device</td>
</tr>
<tr>
<td>0x10000000024</td>
<td>MyDomain.Device</td>
</tr>
</tbody></table></blockquote>
<h2 class="h-sql-functions"><a id="sql-functions" class="heading-anchor" href="#%s"></a>SQL Functions</h2>
<p>Any SQL function can be used in ECSQL. This includes functions built into SQLite (see <a href="https://www.sqlite.org/lang_corefunc.html">SQLite Functions overview</a>) or functions built into iModelJs, like the <a href='https://imodeljs.github.io/iModelJs-docs-output//./learning/geometrysqlfuncs'>geometry functions</a> which you can use for <a href='https://imodeljs.github.io/iModelJs-docs-output//./learning/spatialqueries'>spatial queries</a>.</p>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> For all <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatialelement'>SpatialElement</a>s whose code contains the string &apos;DEV&apos; return a more human-readable form of the code by replacing &apos;DEV&apos; by &apos;Device&apos;.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT ECInstanceId, CodeValue, replace(CodeValue,&apos;DEV&apos;,&apos;Device&apos;) ReadableCode FROM bis.SpatialElement WHERE instr(CodeValue,&apos;DEV&apos;) LIMIT 5</code></pre>
<p><em>Result</em></p>
<table class="table table-responsive"><tbody><tr>
<th>ECInstanceId</th>
<th>CodeValue</th>
<th>ReadableCode</th>
</tr>
<tr>
<td>0x10000000021</td>
<td>DEV-A-G-1</td>
<td>Device-A-G-1</td>
</tr>
<tr>
<td>0x10000000022</td>
<td>DEV-A-G-2</td>
<td>Device-A-G-2</td>
</tr>
<tr>
<td>0x10000000023</td>
<td>DEV-A-1-1</td>
<td>Device-A-1-1</td>
</tr>
<tr>
<td>0x10000000024</td>
<td>DEV-A-2-1</td>
<td>Device-A-2-1</td>
</tr>
<tr>
<td>0x10000000025</td>
<td>DEV-A-2-2</td>
<td>Device-A-2-2</td>
</tr>
</tbody></table></blockquote>
<p>The example uses the SQLite functions <a href="https://www.sqlite.org/lang_corefunc.html#replace">replace</a> to replace the substring &apos;DEV&apos; in the code and
<a href="https://www.sqlite.org/lang_corefunc.html#instr">instr</a> to only do this on rows where the code contains the substring &apos;DEV&apos; at all.</p>
<p>Note, that the <code>instr</code> function can be replaced by using the standard SQL <code>LIKE</code> operator together with the wildcard <code>%</code>.</p>
<blockquote>
<p><strong>Try it yourself</strong></p>
<p><em>Goal:</em> For all <a href='https://imodeljs.github.io/iModelJs-docs-output//./bis/domains/biscore/biscore.ecschema/#spatialelement'>SpatialElement</a>s whose code contains the string &apos;DEV&apos; return a more human-readable form of the code by replacing &apos;DEV&apos; by &apos;Device&apos;.</p>
<p><em>ECSQL</em></p>
<pre class="no-line-numbers"><code class="language-sql">SELECT ECInstanceId, CodeValue, replace(CodeValue,&apos;DEV&apos;,&apos;Device&apos;) ReadableCode FROM bis.SpatialElement WHERE CodeValue LIKE &apos;%DEV%&apos; LIMIT 5</code></pre>
<p><em>Result</em></p>
<table class="table table-responsive"><tbody><tr>
<th>ECInstanceId</th>
<th>CodeValue</th>
<th>ReadableCode</th>
</tr>
<tr>
<td>0x10000000021</td>
<td>DEV-A-G-1</td>
<td>Device-A-G-1</td>
</tr>
<tr>
<td>0x10000000022</td>
<td>DEV-A-G-2</td>
<td>Device-A-G-2</td>
</tr>
<tr>
<td>0x10000000023</td>
<td>DEV-A-1-1</td>
<td>Device-A-1-1</td>
</tr>
<tr>
<td>0x10000000024</td>
<td>DEV-A-2-1</td>
<td>Device-A-2-1</td>
</tr>
<tr>
<td>0x10000000025</td>
<td>DEV-A-2-2</td>
<td>Device-A-2-2</td>
</tr>
</tbody></table></blockquote>
<hr>
<p><a href='https://imodeljs.github.io/iModelJs-docs-output//./learning/ecsqltutorial/keytoecsql'><strong>&lt; Previous</strong></a>  &#xA0; | &#xA0; <a href='https://imodeljs.github.io/iModelJs-docs-output//./learning/ecsqltutorial/ecsqldatatypes'><strong>Next &gt;</strong></a></p>

            <p class='last-updated'>Last Updated:
                <span class='date-updated'>23 July, 2018 @ 08:06:47 pm -04:00</span>
            </p>

            
            <script type="text/javascript">
            
            </script>        </article>
    </div>
    <div id='inner-table-of-contents'>
        <!--
            - If the page is active
            - Get all headings and subheadings and list them
         -->
        
        
        
        
        <div id='sticky-container' style="top: 76px; position: fixed;">
          <h4 class='heading'>On this page</h4>
            <div id="overview-container" class="clusterize-scroll">
              <ul id='nav' class='right-nav nav flex-column clusterize-content'>
                      <li class='nav-item item '>
                    <a class='title solo-title menu-text' href="#first-ecsql">First ECSQL</a>
            </li>
               <li class='nav-item item '>
                    <a class='title solo-title menu-text' href="#fully-qualified-class-names">Fully qualified class names</a>
            </li>
               <li class='nav-item item '>
                    <a class='title solo-title menu-text' href="#element-count">Element Count</a>
            </li>
               <li class='nav-item item '>
                    <a class='title solo-title menu-text' href="#limiting-the-result-set">Limiting the result set</a>
            </li>
               <li class='nav-item item '>
                    <a class='title solo-title menu-text' href="#formatting-the-output">Formatting the Output</a>
            </li>
               <li class='nav-item item '>
                    <a class='title solo-title menu-text' href="#parametrizing-the-ecsql">Parametrizing the ECSQL</a>
            </li>
               <li class='nav-item item '>
                    <a class='title solo-title menu-text' href="#sql-functions">SQL Functions</a>
            </li>
         
              </ul>
            </div>
          </div>
        
    </div>
</div>


    <footer id='main-footer'>
        <div id='footer-content-container'>
           <div class='footer-footer'>
               <p>Copyright 2018 Bentley Systems, Incorporated</p>
            </div>
        </div>
    </footer>
</div>
    <a href="javascript:" id="return-to-top"><i class="icon icon-chevron-up"></i></a>
    <script src="https://imodeljs.github.io/iModelJs-docs-output//scripts/bundle.js" ></script>
</body>

</html>